-- This script was generated by a beta version of the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE IF NOT EXISTS public.passwords
(
    id bigint NOT NULL,
    user_id bigint NOT NULL,
    password text NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.users
(
    id bigint NOT NULL,
    account_name text NOT NULL,
    user_name text NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.tokens
(
    id bigint NOT NULL,
    user_id bigint NOT NULL,
    ip text NOT NULL,
    token text NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.hotels
(
    id bigint NOT NULL,
    title text NOT NULL,
    street text NOT NULL,
    city text NOT NULL,
    zip text NOT NULL,
    email text NOT NULL,
    phone text NOT NULL,
    web text NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.rooms
(
    id bigint NOT NULL,
    hotel_id bigint NOT NULL,
    count bigint NOT NULL,
    "price_ro" bigint NOT NULL,
    "price_bb" bigint NOT NULL,
    "price_hb" bigint NOT NULL,
    "price_fb" bigint NOT NULL,
    bed bigint NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.clubs
(
    id bigint NOT NULL,
    title text NOT NULL,
    code text NOT NULL,
    eju boolean NOT NULL,
    street text NOT NULL,
    city text NOT NULL,
    zip text NOT NULL,
    email text NOT NULL,
    phone text NOT NULL,
    web text NOT NULL,
    PRIMARY KEY (id)
);

ALTER TABLE public.passwords
    ADD FOREIGN KEY (user_id)
    REFERENCES public.users (id)
    NOT VALID;


ALTER TABLE public.tokens
    ADD FOREIGN KEY (user_id)
    REFERENCES public.users (id)
    NOT VALID;


ALTER TABLE public.rooms
    ADD FOREIGN KEY (hotel_id)
    REFERENCES public.hotels (id)
    NOT VALID;

END;